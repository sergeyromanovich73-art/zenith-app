<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #020205; color: white; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; overflow: hidden; }
        #score { font-size: 50px; font-weight: bold; margin-bottom: 20px; color: #00f3ff; text-shadow: 0 0 15px #00f3ff; }
        #btn-main { width: 200px; height: 200px; border-radius: 50%; background: #00f3ff; border: none; font-size: 80px; font-weight: bold; color: #020205; box-shadow: 0 0 30px #00f3ff; touch-action: manipulation; }
        .nav { position: fixed; bottom: 0; width: 100%; height: 70px; display: flex; justify-content: space-around; background: rgba(255,255,255,0.05); border-top: 1px solid #00f3ff; }
        .nav-btn { background: none; border: none; color: #00f3ff; font-weight: bold; font-size: 16px; width: 50%; }
    </style>
</head>
<body>

    <div id="score">0</div>
    <button id="btn-main">Z</button>

    <div class="nav">
        <button class="nav-btn" onclick="location.reload()">–û–ë–ù–û–í–ò–¢–¨</button>
        <button class="nav-btn" id="boost-trigger">–ú–ê–ì–ê–ó–ò–ù üöÄ</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        let bal = parseFloat(localStorage.getItem('v4_bal')) || 0;
        const scoreEl = document.getElementById('score');
        scoreEl.innerText = Math.floor(bal);

        // –ö–ª–∏–∫
        document.getElementById('btn-main').addEventListener('touchstart', (e) => {
            e.preventDefault();
            bal += 1;
            scoreEl.innerText = Math.floor(bal);
            localStorage.setItem('v4_bal', bal);
            if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('light');
        });

        // –ú–∞–≥–∞–∑–∏–Ω
        document.getElementById('boost-trigger').addEventListener('click', () => {
            tg.showPopup({
                title: 'ZENITH SHOP',
                message: '–¢–≤–æ–π –±–∞–ª–∞–Ω—Å: ' + Math.floor(bal),
                buttons: [
                    {id: 'buy', type: 'default', text: '–ö—É–ø–∏—Ç—å Boost (500)'},
                    {type: 'cancel', text: '–ó–∞–∫—Ä—ã—Ç—å'}
                ]
            }, (id) => {
                if (id === 'buy') {
                    if (bal >= 500) {
                        bal -= 500;
                        scoreEl.innerText = Math.floor(bal);
                        localStorage.setItem('v4_bal', bal);
                        tg.showAlert('–ö—É–ø–ª–µ–Ω–æ!');
                    } else {
                        tg.showAlert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!');
                    }
                }
            });
        });
    </script>
</body>
</html>
